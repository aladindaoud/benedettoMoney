"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5113],{5113:(y,g,d)=>{d.r(g),d.d(g,{Tab3PageModule:()=>M});var s=d(4742),l=d(177),c=d(4341),b=d(1307),_=d(5447),p=d(467),e=d(3953),f=d(3241);function h(o,r){if(1&o){const a=e.RV6();e.j41(0,"div")(1,"div",5)(2,"label",15),e.EFF(3,"Title:"),e.k0s(),e.j41(4,"input",16),e.mxI("ngModelChange",function(t){const i=e.eBV(a).$implicit;return e.DH7(i.key,t)||(i.key=t),e.Njj(t)}),e.k0s()(),e.j41(5,"div",5)(6,"label",15),e.EFF(7,"Amount:"),e.k0s(),e.j41(8,"input",17),e.mxI("ngModelChange",function(t){const i=e.eBV(a).$implicit;return e.DH7(i.value,t)||(i.value=t),e.Njj(t)}),e.k0s()(),e.j41(9,"ion-button",18),e.bIt("click",function(){const t=e.eBV(a).index,i=e.XpG(2);return e.Njj(i.removeExpense(t))}),e.EFF(10,"Delete"),e.k0s()()}if(2&o){const a=r.$implicit,n=r.index;e.R7$(2),e.Mz_("for","expenseTitle",n,""),e.R7$(2),e.Mz_("id","expenseTitle",n,""),e.R50("ngModel",a.key),e.R7$(2),e.Mz_("for","expenseValue",n,""),e.R7$(2),e.Mz_("id","expenseValue",n,""),e.R50("ngModel",a.value)}}function m(o,r){if(1&o){const a=e.RV6();e.j41(0,"div")(1,"h3"),e.EFF(2,"Record Details:"),e.k0s(),e.j41(3,"div",5)(4,"label",10),e.EFF(5,"Income:"),e.k0s(),e.j41(6,"input",11),e.mxI("ngModelChange",function(t){e.eBV(a);const i=e.XpG();return e.DH7(i.record.income,t)||(i.record.income=t),e.Njj(t)}),e.k0s()(),e.j41(7,"h4"),e.EFF(8,"Expenses:"),e.k0s(),e.DNE(9,h,11,10,"div",12),e.j41(10,"div")(11,"ion-button",13),e.bIt("click",function(){e.eBV(a);const t=e.XpG();return e.Njj(t.addExpense())}),e.EFF(12,"Add New Expense"),e.k0s()(),e.j41(13,"ion-button",14),e.bIt("click",function(){e.eBV(a);const t=e.XpG();return e.Njj(t.saveChanges())}),e.EFF(14,"Save Changes"),e.k0s()()}if(2&o){const a=e.XpG();e.R7$(6),e.R50("ngModel",a.record.income),e.R7$(3),e.Y8G("ngForOf",a.record.expenses)}}function v(o,r){1&o&&(e.j41(0,"div",19),e.EFF(1,"No record found for this date."),e.k0s())}const T=[{path:"",component:(()=>{var o;class r{constructor(n,t){this.pouchdbService=n,this.toastController=t,this.selectedDate="",this.selectedDate=(0,l.Yq)(new Date,"yyyy-MM-dd","en-US"),this.loadRecord()}loadRecord(){var n=this;return(0,p.A)(function*(){if(n.selectedDate)try{n.record=yield n.pouchdbService.getRecord(n.selectedDate),n.record||(n.record={income:0,expenses:[]})}catch(t){console.error("Error loading record:",t)}})()}addExpense(){this.record.expenses.push({key:"",value:0})}removeExpense(n){this.record.expenses.splice(n,1)}saveChanges(){var n=this;return(0,p.A)(function*(){try{n.record&&n.selectedDate&&(yield n.pouchdbService.updateRecord(n.selectedDate,n.record.income,n.record.expenses),n.showToast("Record saved successfully!"))}catch{n.showToast("Error saving record.","danger")}})()}showToast(n,t="success"){var i=this;return(0,p.A)(function*(){(yield i.toastController.create({message:n,mode:"ios",duration:2e3,color:t,position:"top"})).present()})()}}return(o=r).\u0275fac=function(n){return new(n||o)(e.rXU(f.B),e.rXU(s.K_))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-tab3"]],decls:16,vars:5,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"p-fluid"],[1,"input"],["for","selectDate"],["id","selectDate","type","date",1,"p-inputtext",3,"ngModelChange","change","ngModel"],[4,"ngIf"],["style","display: block;\n    margin: auto;\n    width: 300px;\n    padding: 20px;\n    font-weight: bold;\n    margin-top: 30px;\n    border-radius: 12px;\n    text-align: center;\n    background: #E57373;",4,"ngIf"],["for","income"],["id","income","type","number",1,"p-inputtext",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],["color","secondary",3,"click"],["color","primary",3,"click"],[3,"for"],["type","text",1,"p-inputtext",3,"ngModelChange","id","ngModel"],["type","number",1,"p-inputtext",3,"ngModelChange","id","ngModel"],["color","danger",3,"click"],[2,"display","block","margin","auto","width","300px","padding","20px","font-weight","bold","margin-top","30px","border-radius","12px","text-align","center","background","#E57373"]],template:function(n,t){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3," Modify Daily Finance "),e.k0s()()(),e.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e.EFF(8,"Modify Daily Finance"),e.k0s()()(),e.j41(9,"div",4)(10,"div",5)(11,"label",6),e.EFF(12,"Select Date:"),e.k0s(),e.j41(13,"input",7),e.mxI("ngModelChange",function(u){return e.DH7(t.selectedDate,u)||(t.selectedDate=u),u}),e.bIt("change",function(){return t.loadRecord()}),e.k0s()(),e.DNE(14,m,15,2,"div",8)(15,v,2,0,"div",9),e.k0s()()),2&n&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(9),e.R50("ngModel",t.selectedDate),e.R7$(),e.Y8G("ngIf",t.record),e.R7$(),e.Y8G("ngIf",!t.record))},dependencies:[s.Jm,s.W9,s.eU,s.BC,s.ai,l.Sq,l.bT,c.me,c.Q0,c.BC,c.vS],styles:[".input[_ngcontent-%COMP%]{padding:10px;background:#e1e1e1;border-radius:12px;margin-top:15px}.p-fluid[_ngcontent-%COMP%]{margin:auto;padding:20px}ion-button[_ngcontent-%COMP%]{width:-webkit-fill-available}"]}),r})()}];let x=(()=>{var o;class r{}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[_.iI.forChild(T),_.iI]}),r})(),M=(()=>{var o;class r{}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[s.bv,l.MD,c.YN,b.S,x]}),r})()}}]);