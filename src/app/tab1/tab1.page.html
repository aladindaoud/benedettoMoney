 

<ion-content [fullscreen]="true">
 
  <ion-refresher mode="ios" slot="fixed" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
<hr><hr>


  <ion-item lines="none" >
    <ion-label class="text">
      Income and Outcomes
  </ion-label>
    <input id="date" type="date" [(ngModel)]="date" (change)="onValueChange(date)" class="p-inputtext date" />
  </ion-item >

  <!-- Display fetched data or no data message -->
  <ion-item lines="none">
    <ion-label class="text2">
      Daily Summary
  </ion-label>
  </ion-item>

  <div *ngIf="dailyData; else noDataTemplate"  >
 <ion-item lines="none">
  <ion-label class="text">
    Income
  </ion-label>
  <ion-icon style=" 
     border: none;
  color: #636ae8;
  padding-right: 10px; font-weight: bold;"
     slot="end" name="arrow-down-outline"></ion-icon>
 </ion-item>
 <ion-item lines="none">
  <ion-note class="text3">
    {{dailyData.income | currency:'TND':'TND'}}
   </ion-note>
 </ion-item>

 
   






 <ion-item lines="none">
  <ion-label class="text">
    Outcomes
  </ion-label>
  <ion-icon style=" 
     border: none;
  color: #E8618CFF;
  padding-right: 10px; font-weight: bold;"
     slot="end" name="arrow-up-outline"></ion-icon>
 </ion-item>

 
 
  <div *ngFor="let expense of dailyData.expenses">
    <ion-item  mode="ios" lines="none">
      <ion-label style="display: flex;
      flex-direction: column;margin: 0;gap: 5px;" class="text4"> {{expense.key}}   <ion-note  > {{expense.value | currency:'TND':'TND'}}</ion-note></ion-label>
    
    </ion-item>
  </div>



    <p style="    display: flex;
    flex-direction: row;
    justify-content: flex-end;
    padding-right: 25px;" class="text3"><strong>Total Outcomes</strong> {{dailyData.totalOutcomes | currency:'TND':'TND'}}</p>
  
  
  <p style="    display: flex;
  flex-direction: row;
  justify-content: flex-end;
  padding-right: 25px;" class="text3"><strong>Recipe</strong> {{dailyData.total | currency:'TND':'TND'}}</p>
     
  </div>

  <ng-template #noDataTemplate>
 
      <ion-item   lines="none">
        <ion-label style="  
        line-height: 28px;
            font-size: 16px;
            font-weight: bold;
            font-family: arch !important;
          color:  #E8618CFF;" class="text2">
      No data available for this date.
        </ion-label>
       </ion-item>
  </ng-template>

</ion-content>
